Встреча: уточняющие вопросы, простое объяснение MVP, сроки и бюджет

Дата/контекст
- Проект: Zariz — приложение для курьеров и панель магазина для создания и отслеживания заказов.
- Источники: roadmap (`zariz/dev/tickets/roadmap.md`), ТЗ (`zariz/dev/tech_task.md`), деньги (`zariz/dev/money.md`).

1) Вопросы к предпринимателю (закрыть на встрече)
- Бизнес/ролевая модель
  - Сколько магазинов/точек на старте? Сколько курьеров одновременно?
10 магазинов 50 курьеров в минуту

  - Как магазин создает заказ: вручную в панели, импорт из 1С/Эксель, через API?
заносит в таблет

  - Нужны ли статусы подтверждения магазина (после «доставлено»)? Кто финально подтверждает доставку?
  Магазин не должен подтвержать, админ должен видеть
  - Требуется ли отмена/возврат и кто имеет право отменять?
Опция отмены заказа (Битуль), может это делать админ
  - Будет ли оплата онлайн в MVP или только логистика? (в ТЗ — без оплаты)
  - Какие обязательные поля заказа: адреса, контакт, комментарии, тайм‑слоты?
Имя получателя
Фамилия получателя
Улица номер дома этаж номер квартиры
Номер телефона
Сколько ящиков


   Языки интерфейса (he/ru/en) и необходимость мультиязычности в MVP?
  - Нужны ли отчеты (CSV, фильтры по датам/магазинам) в первой версии?
Да нужны отчеты, Хранение данных 12 месяцев выгрузка отчётов в формате HTML


  - Как выглядит онбординг магазинов и курьеров (регистрация, верификация)?

Берем планшет с апликацией, даем магазину, даем ему шем мештамеш (юзернейм и пассворд, создаёт их админ через свою админку, видимо через веб морду)



  - Политика перераспределения заказа: можно ли снять заказ у курьера (только админ?)


Да, только админ

То есть, еще раз, короче, что он хочет, это то, чтобы он сам, как админ, распределял заказы. И для админа пусть будет веб-панель, а для курьера и магазина будет аппликация. Сейчас у нас есть функция входа админа также через аппликацию. Пусть она пока останется, но мы ее сейчас не будем трогать. Сосредоточимся на всем остальном. То есть, короче, он, как админ, хочет распределять заказы между магазинами и курьерами. То есть, магазин вывешивает заказ, админ видит заказ, получает куда-то там уведомления. Наверное. Ну, например, через веб-интерфейс или тоже через аппликацию.



- Операционные требования
  - Целевое пиковое число заказов/день? Параллельные пользователи (курьеры/магазины)?
  300 заказов в день, 500 максимум. 
  - SLA/реакция: за сколько секунд статус должен дойти до панели магазина? (в ТЗ 30–120с через тихие пуши/поллинг)
30 секунд

Админ распределяет заказы вручную.

  - Нужны ли уведомления магазину (email/SMS) о важных событиях?

нет

  - Резервное копирование БД: как часто и куда (VPS/S3/Google Drive)?
  На локальный компьютер
  - Домен/сертификаты: есть ли у вас домен/хостинг, или берем VPS под ключ?

- Правовые/безопасность
  - Политика хранения персональных данных (PII): срок хранения, право на удаление.
  - Согласия/политика конфиденциальности: чьи шаблоны используем?
  - Ограничения доступа: кто и что видит (магазин видит только свои заказы; админ — всё)?

- iOS‑клиент
  - Авторизация: телефон с OTP или email/пароль? (ТЗ допускает и то, и то)

login/password

  - Нужен ли бэйдж/уведомления на иконке, звуки? (в MVP — тихие пуши + резервный поллинг)
  - Нужна ли работа оффлайн (кэш заказов) — подтверждаем и границы.
  - Минимальная поддерживаемая iOS версия (предлагаем iOS 17+).
iphone 12.
- Веб‑панель магазина - не нужна
  - Какие фильтры/поиск обязательны: статус, даты, магазин, курьер?
  - Нужна ли мульти‑роль (админ/оператор) в первой версии?
  - Импорт/экспорт заказов (CSV) — MVP или следующая версия?

2) Простое объяснение MVP (без жаргона)
- Что это такое
  - У магазинов есть веб‑панель: на сайте они создают заказ — куда и кому доставить, контакт и комментарий.
  - У курьеров есть iPhone‑приложение: они видят новые заказы, берут их в работу и отмечают этапы («забрал», «доставил»).
  - Администратор видит все заказы и пользователей, может помогать и настраивать.

- Как это работает
  - Сервер хранит данные про заказы и пользователей. Магазин создает заказ в панели — запись появляется на сервере.
  - Приложение курьера периодически проверяет сервер и получает «тихие» уведомления. Курьер видит новые заказы и может «забрать» один — сервер записывает, что именно этот курьер его взял (без гонок/дублирования).
  - Когда курьер меняет статус (забрал/доставил), сервер обновляет заказ. Панель магазина автоматически показывает изменения в течение примерно 30–120 секунд.

- Из чего состоит система
  - Приложение iOS (курьеры): экран входа, список заказов, детали заказа, кнопки статуса. Работает без карты, можно и оффлайн с последующей синхронизацией.
  - Веб‑панель (магазины/админ): вход, список заказов с фильтрами, создание заказов, просмотр статусов.
  - Сервер (API): «мозг» системы. Принимает и отдает данные, проверяет права, следит чтобы один заказ не взяли два курьера одновременно, отправляет уведомления.

3) Сроки (по дорожной карте)
- Оптимистично: 12–13 рабочих дней (≈2.5 недели)
- Реалистично: 15–17 рабочих дней (≈3–3.5 недели) — рекомендуем считать так
- Консервативно: 20–22 рабочих дня (≈4–4.5 недели) — если задержки с Apple/сертификатами/инфраструктурой
Разбивка по этапам см. `zariz/dev/tickets/roadmap.md` (Stage A–D с оценками по задачам).

4) Бюджет (из money.md, ИЛ диапазоны)
- Модель 1 — фикс за MVP (без геолокации): 20–28k ₪ (рекомендуем фикс 24k ₪)
- Модель 2 — почасовая: 220–250 ₪/ч, cap 110–120 ч (по реалистичной оценке ~104 ч)
- Аванс: 30–40% + техрасходы (Apple Dev $99, домен, VPS при необходимости)
- Возможны milestone‑платежи: старт (30–40%), mid‑MVP (40–50%), финал (остаток)

5) Риски и как их снизим
- APNs/Apple TestFlight задержки — параллелим оформление аккаунтов и используем резервный поллинг в приложении.
- Сложности с доступами/доменом — сразу договоримся: чей домен/VPS и кто админ.
- Двойное «взятие» заказа — используем «атомарное» обновление в базе: либо получается, либо 409 конфликт.
- Перегрузка интерфейса — держим MVP простым, только нужные статусы и фильтры.

6) Что потребуется от заказчика
- Доступ к Apple Developer (или оформляем вместе), домен/хостинг или согласование VPS.
- Утвержденные тексты: названия статусов, справка/поддержка, политика конфиденциальности.
- Решение по авторизации: телефон (OTP) или email/пароль на MVP.
- Ответственное лицо для быстрых ответов по требованиям в течение разработки.

7) Итог
- MVP даст магазину быстрый старт: создавать заказы и видеть доставку; курьеру — простой и быстрый процесс.
- Масштабирование и «фишки» (карта, маршрутизация, пуш‑бейджи) можно добавить после запуска.

